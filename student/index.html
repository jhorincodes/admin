<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <span class="material-symbols-outlined" id="menu-close">close</span>
            <div class="sidebar-header">
                <h2 id="display_name"></h2>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="#" data-page="Dashboard"><span class="material-symbols-outlined">dashboard</span> Dashboard</a></li>
                    <li><a href="#" data-page="Users"><span class="material-symbols-outlined">person</span> Profile</a></li>
                    <li><a href="#" data-page="Settings"><span class="material-symbols-outlined">settings</span> Settings</a></li>
                    <li><a href="#" data-page="Logout" id="logoutBtn"><span class="material-symbols-outlined">logout</span> Logout</a></li>
                </ul>
            </nav>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="left-side">
                    <span class="material-symbols-outlined" id="menu-toggle">menu</span>
                    <img src="../img/logo.png" alt="qr-code-logo">
                    <h1 id="h">QR CODE ATTENDANCE</h1>
                </div>
                <div class="user-profile">
                    <span class="material-symbols-outlined">person</span>
                    <span id="student-role"></span>
                </div>
            </header>

            <!-- Path -->
            <div class="path">
                <div class="nav-path">
                    <span id="content-name">Dashboard</span>
                    <span id="content-path">Dashboard</span>
                </div>
                <span class="material-symbols-outlined" id="backBtn">keyboard_backspace</span>
            </div>

            <!-- Main Content Area -->
            <div class="main">
                <!-- Cards Grid -->
                <div class="cards-grid" id="cardsGrid">
                    <div class="card" data-page="Attendance" id="attendanceCard">
                        <span class="material-symbols-outlined">event</span>
                        <h3>Attendance</h3>
                        <p>Mark your attendance</p>
                    </div>
                    <div class="card" data-page="QR Code" id="QRCode">
                        <span class="material-symbols-outlined">qr_code</span>
                        <h3>View QR Code</h3>
                        <p>Access your QR code</p>
                    </div>
                    <div class="card" data-page="Attendance Record" id="ViewAttendanceRecords">
                        <span class="material-symbols-outlined">history</span>
                        <h3>View Attendance Records</h3>
                        <p>Check your attendance history</p>
                    </div>
                    <div class="card" data-page="ViewClassSchedule" id="ViewClassSchedule">
                        <span class="material-symbols-outlined">calendar_month</span>
                        <h3>View Class Schedule</h3>
                        <p>Current Day: Saturday</p>
                    </div>    
                    <div class="card" data-page="ViewInformation" id="ViewInformation">
                        <span class="material-symbols-outlined">info</span>
                        <h3>View Information</h3>
                        <p>View your personal info</p>
                    </div>
                </div>    
                
                <!-- Scanner Section -->
                <div class="container" id="scanner-container">
                    <div class="label-section">
                        <span id="display-grade-strand-section"><strong></strong></span>
                    </div>
                    <div class="scanner-result" id="scanner-result">
                        <div class="scanner-section" id="scanner-section">
                            <div class="scanner-placeholder">
                                <video id="scanner-video" autoplay playsinline></video>
                            </div>
                            <button class="scan-button" id="scan-button">Scan</button>
                        </div>
                        
                    <div class="qr_codeResult" id="qr_codeResult">
                        <button id="viewBtn">
                            <i class="fas fa-list"></i>Attendance Record
                        </button>
                        <div class="time">
                            <p><strong>Time:</strong> <span class="currentTime" id="time1"></span></p>
                        </div>    
                        <p><strong>Full Name:</strong> <span id="qr-codeFname"></span></p>
                        <p><strong>Grade/Strand/Section:</strong> <span id="qr_codeGrade"></span></p>
                        <p><strong>LRN:</strong> <span id="qr_codeLrn"></span></p>
                        <p><strong>Time in:</strong> <span id="timeIn1"></span></p>
                        <p class="mt-5px"><strong id="attendanceDisplay"></strong></p>
                        <form class="container" id="type-container">
                            <input type="number" id="typeLrn" name="typeLrn" placeholder="Type LRN here" required>
                                <button class="type-button" id="type-button">Submit</button>
                        </form>
                        </div> 
                    </div>
                    <!-- typeContainer -->
                    <div class="typeContainer" id="typeContainer">
                        <div class="table-responsive" id="class-attendance">
                        <h2>Class Attendance</h2>
                        <table class="table table-bordered table-striped table-hover" id="attendance-history">
                            <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">Fullname</th>
                                    <th scope="col">
                                        Time in
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="classAttendanceTable">
                                <!-- Data will be inserted here via AJAX -->
                                
                            </tbody>
                        </table>
                </div>
                    <div class="lrn-result" id="lrn-result">
                        <div class="time">
                            <p><strong>Time:</strong> <span class="currentTime" id="time2"></span></p>
                        </div>    
                        <p><strong>Full Name:</strong> <span id="lrn-Fname"></span></p>
                        <p><strong>Grade/Strand/Section:</strong> <span id="lrn_Grade"></span></p>
                        <p><strong>LRN:</strong> <span id="lrn_Lrn"></span></p>
                        <p><strong>Time in:</strong> <span id="timeIn"></span></p>
                        <p class="mt-5px"><strong id="attendanceDisplay2"></strong></p>
                        <div class="container" id="type-container2">
                            <input type="number" id="typeLrn" name="typeLrn" placeholder="Type LRN here" required>
                                <button class="type-button" id="lrn-button">Submit</button>
                            </div>
                        </div> 
                    </div>
                </div>
                
                <!-- QR Code Section -->
                <div class="container" id="viewQRCodeContainer" data-page="ViewQRCode">
                    <div class="modal-content" id="modal-content">
                        <h2 id="name"></h2>
                        <p><strong>Grade/Strand/Section:</strong> <span id="grade"></span></p>
                        <p><strong>Email:</strong> <span id="email"></span></p>
                        <p><strong>LRN:</strong> <span id="lrn"></span></p>
                        <p><strong>Date Created:</strong> <span id="dateCreated"></span></p>
                    </div>  
                    <div class="qrContainer">
                        <div id="qrCodeContainer">  
                            <!-- QR Code will be displayed here -->
                        </div>  
                        <div class="qrBtn">
                            <button type="button" class="btn btn-primary mt-2" id="downloadQRBtn">Download QR Code</button>
                            <button type="button" class="btn btn-primary mt-2" id="viewQRBtn">View QR Code</button>
                        </div>
                        </div>        
                </div>        

                <!-- Attendance Table -->
                <div class="table-responsive" id="results-section">
                    <h2>Attendance Results</h2>
                    <table class="table table-bordered table-striped table-hover" id="attendance-table">
                        <thead class="table-dark">
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">LRN</th>
                                <th scope="col">Grade/Strand/Section</th>
                                <th scope="col">
                                    Date/Time
                                </th>
                                 <th scope="col">
                                    Shift - Set 
                                </th>
                            </tr>
                        </thead>
                        <tbody id="studentTableBody">
                            <!-- Data will be inserted here via AJAX -->
                            
                        </tbody>
                    </table>
                </div>
                    
                    <div class="table-responsive" id="class-attendance-history" data-page="Attendance History">
                    <button id="closeStudentBtn" class="btn btn-primary btn-danger">
                        <i class="fas fa-close"></i>
                    </button>
                    <h2>Class Attendance</h2>
                    <table class="table table-bordered table-striped table-hover" id="attendance-history">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Fullname</th>
                                <th scope="col">LRN</th>
                                <th scope="col">Grade/Strand/Section</th>
                                <th scope="col">
                                    Time in
                                </th>
                                <th scope="col">
                                    Shift - Set
                                </th>
                            </tr>
                        </thead>
                        <tbody id="attendanceHistory">
                            <!-- Data will be inserted here via AJAX -->
                            
                        </tbody>
                    </table>
            </div>
        </div>
            
            <!-- Footer -->
            <footer class="footer">
                <p>&copy; 2025 XYZ. All rights reserved.</p>
            </footer>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
    <script src="index.js"></script>
</body>
</html>